Version 4.1
SHEET 1 3748 1284
WIRE 1552 -496 1552 -528
WIRE 1296 -416 1200 -416
WIRE 1440 -416 1296 -416
WIRE 1440 -384 1408 -384
WIRE 1552 -384 1552 -432
WIRE 1552 -384 1504 -384
WIRE 1584 -384 1552 -384
WIRE 1952 -384 1584 -384
WIRE 2112 -384 2016 -384
WIRE 2224 -384 2176 -384
WIRE 2336 -384 2304 -384
WIRE 1296 -352 1296 -416
WIRE 1584 -336 1584 -384
WIRE 1584 -336 1392 -336
WIRE 1408 -288 1408 -384
WIRE 1584 -288 1408 -288
WIRE 2928 -288 2608 -288
WIRE 2400 -256 2400 -336
WIRE 2608 -256 2608 -288
WIRE 2608 -256 2400 -256
WIRE 1392 -240 1392 -336
WIRE 1440 -240 1392 -240
WIRE 1296 -208 1296 -288
WIRE 1440 -208 1296 -208
WIRE 1552 -208 1504 -208
WIRE 1584 -208 1584 -288
WIRE 1584 -208 1552 -208
WIRE 2112 -208 1584 -208
WIRE 2208 -208 2176 -208
WIRE 2336 -208 2288 -208
WIRE 2608 -176 2608 -256
WIRE 2640 -176 2608 -176
WIRE 2768 -176 2720 -176
WIRE 1552 -160 1552 -208
WIRE 3648 -144 3648 -160
WIRE 272 -128 -144 -128
WIRE 3024 -128 2976 -128
WIRE 2976 -96 2976 -128
WIRE 3648 -96 3648 -144
WIRE 1552 -80 1552 -96
WIRE 2768 -80 2768 -176
WIRE 2928 -80 2928 -288
WIRE 80 -16 32 -16
WIRE 192 -16 160 -16
WIRE 448 16 416 16
WIRE 1552 16 1552 -16
WIRE 416 32 416 16
WIRE 272 48 272 -128
WIRE 384 48 272 48
WIRE 528 64 528 16
WIRE 528 64 448 64
WIRE 896 64 528 64
WIRE -240 80 -288 80
WIRE -144 80 -144 -128
WIRE -144 80 -176 80
WIRE -112 80 -144 80
WIRE 32 80 32 -16
WIRE 32 80 -32 80
WIRE 64 80 32 80
WIRE 384 80 336 80
WIRE -288 96 -288 80
WIRE 1296 96 1200 96
WIRE 1440 96 1296 96
WIRE 2640 112 2608 112
WIRE 2768 112 2768 0
WIRE 2768 112 2720 112
WIRE 64 128 64 80
WIRE 80 128 64 128
WIRE 1440 128 1408 128
WIRE 1552 128 1552 80
WIRE 1552 128 1504 128
WIRE 1584 128 1552 128
WIRE 1952 128 1584 128
WIRE 2112 128 2016 128
WIRE 2224 128 2176 128
WIRE 2336 128 2304 128
WIRE 192 144 192 -16
WIRE 192 144 144 144
WIRE 896 160 592 160
WIRE 1296 160 1296 96
WIRE 464 176 416 176
WIRE 592 176 592 160
WIRE 592 176 544 176
WIRE 1584 176 1584 128
WIRE 1584 176 1392 176
WIRE 416 192 416 176
WIRE 2400 192 2400 176
WIRE 2608 192 2608 112
WIRE 2608 192 2400 192
WIRE -848 208 -848 192
WIRE -768 208 -848 208
WIRE 192 208 192 144
WIRE 384 208 192 208
WIRE 592 224 592 176
WIRE 592 224 448 224
WIRE 1408 224 1408 128
WIRE 1584 224 1408 224
WIRE 2608 224 2608 192
WIRE 2928 224 2928 -32
WIRE 2928 224 2608 224
WIRE -848 240 -848 208
WIRE 336 240 336 80
WIRE 384 240 336 240
WIRE 2400 256 2400 192
WIRE 1392 272 1392 176
WIRE 1440 272 1392 272
WIRE -704 304 -720 304
WIRE 1296 304 1296 224
WIRE 1440 304 1296 304
WIRE 1552 304 1504 304
WIRE 1584 304 1584 224
WIRE 1584 304 1552 304
WIRE 2112 304 1584 304
WIRE 2208 304 2176 304
WIRE 2336 304 2288 304
WIRE 336 320 336 240
WIRE -848 336 -848 320
WIRE -720 336 -720 304
WIRE -720 336 -848 336
WIRE -848 352 -848 336
WIRE 1552 352 1552 304
WIRE -720 368 -720 336
WIRE -704 368 -720 368
WIRE 1552 432 1552 416
WIRE 224 576 -528 576
WIRE -304 672 -336 672
WIRE -176 672 -240 672
WIRE 64 784 0 784
WIRE 224 784 224 576
WIRE 224 784 144 784
WIRE -240 848 -240 800
WIRE -528 864 -528 576
WIRE -464 864 -528 864
WIRE -336 864 -336 672
WIRE -336 864 -384 864
WIRE -272 864 -336 864
WIRE -176 880 -176 672
WIRE -176 880 -208 880
WIRE -144 880 -176 880
WIRE -128 880 -144 880
WIRE -112 880 -128 880
WIRE 0 880 0 784
WIRE 0 880 -32 880
WIRE 64 880 0 880
WIRE -272 896 -288 896
WIRE 224 896 224 784
WIRE 224 896 128 896
WIRE 240 896 224 896
WIRE 256 896 240 896
WIRE 64 912 48 912
WIRE 96 960 96 928
WIRE 160 960 96 960
WIRE 240 960 240 896
WIRE -176 1088 -176 880
WIRE -160 1088 -176 1088
WIRE -48 1088 -96 1088
WIRE 208 1088 -48 1088
WIRE 400 1104 272 1104
WIRE 208 1120 176 1120
WIRE 240 1152 240 1136
WIRE -48 1184 -48 1168
FLAG 336 320 VRAMP
IOPIN 336 320 In
FLAG 416 96 0
FLAG 416 256 0
FLAG 416 16 VDD
IOPIN 416 16 In
FLAG 416 176 VDD
IOPIN 416 176 In
FLAG 80 160 VCM
IOPIN 80 160 In
FLAG -288 176 0
FLAG 176 1120 VCTRL
IOPIN 176 1120 In
FLAG 112 112 0
FLAG 112 176 VDD
IOPIN 112 176 In
FLAG -848 432 0
FLAG -704 368 VCTRL
IOPIN -704 368 Out
FLAG -704 304 VCM
IOPIN -704 304 Out
FLAG -848 112 0
FLAG -768 208 VDD
IOPIN -768 208 Out
FLAG -288 896 VCM
IOPIN -288 896 In
FLAG 48 912 VCM
IOPIN 48 912 In
FLAG -240 912 0
FLAG 96 864 0
FLAG -48 1264 0
FLAG -240 800 VDD
IOPIN -240 800 In
FLAG 96 960 VDD
IOPIN 96 960 In
FLAG 256 896 VSQR
IOPIN 256 896 Out
FLAG -128 880 Vramp
FLAG -144 880 VRAMP
IOPIN -144 880 Out
FLAG 240 1072 VDD
IOPIN 240 1072 In
FLAG 400 1104 VPWM
IOPIN 400 1104 Out
FLAG 240 1152 0
FLAG 1552 -80 0
FLAG 1552 -528 0
FLAG 1200 -416 VPWM_N
IOPIN 1200 -416 In
FLAG 1552 432 0
FLAG 1552 -16 0
FLAG 1200 96 VPWM_P
IOPIN 1200 96 In
FLAG 2976 -16 0
FLAG 3024 -128 Vaudio
IOPIN 3024 -128 Out
FLAG 2480 -432 0
FLAG 2400 -160 0
FLAG 2480 80 0
FLAG 2400 352 0
FLAG 896 64 VPWM_P
IOPIN 896 64 Out
FLAG 896 160 VPWM_N
IOPIN 896 160 Out
FLAG 3648 -32 0
FLAG 3648 -240 Vaudio
IOPIN 3648 -240 In
FLAG 3648 -144 v_1
IOPIN 3648 -144 Out
SYMBOL res 544 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 560 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 176 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res -16 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL cap -176 64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL voltage -288 80 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(2.45 0.45 1k)
SYMATTR InstName V1
SYMBOL res -864 224 R0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res -864 336 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL voltage -848 208 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL OpAmps/UniversalOpAmp 112 144 R0
SYMATTR InstName U4
SYMBOL res -368 848 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {R1}
SYMBOL cap -240 656 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {C1}
SYMBOL cap -96 1072 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value {CBIAS}
SYMBOL res -64 1072 R0
SYMATTR InstName Rbias1
SYMATTR Value {RBIAS}
SYMBOL res -16 864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {R2}
SYMBOL LTC6752 96 960 M180
SYMATTR InstName CMP1
SYMBOL res 160 768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {R3}
SYMBOL voltage -48 1168 R0
SYMATTR InstName Vbias1
SYMATTR Value {VBIAS}
SYMBOL res 256 944 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value {RPULL}
SYMBOL OpAmps/UniversalOpAmp -240 880 R0
SYMATTR InstName U7
SYMBOL LTC6752 240 1040 R0
SYMATTR InstName CMP2
SYMBOL Comparators/LTC6752 416 0 R0
SYMATTR InstName U5
SYMBOL Comparators/LTC6752 416 160 R0
SYMATTR InstName U6
SYMBOL inv 1360 -352 R90
WINDOW 3 8 60 Left 2
SYMATTR Value Vhigh=5
SYMATTR InstName A1
SYMBOL cap 1536 -496 R0
SYMATTR InstName C4
SYMATTR Value 10n
SYMBOL cap 1536 -160 R0
SYMATTR InstName C5
SYMATTR Value 100n
SYMBOL npn 2336 -256 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL pnp 2336 -336 M180
SYMATTR InstName Q2
SYMATTR Value 2N2907
SYMBOL and 1472 48 R0
WINDOW 3 16 52 Left 2
SYMATTR Value Vhigh=5
SYMATTR InstName A2
SYMBOL inv 1360 160 R90
WINDOW 3 8 60 Left 2
SYMATTR Value Vhigh=5
SYMATTR InstName A3
SYMBOL cap 1536 16 R0
SYMATTR InstName C6
SYMATTR Value 10n
SYMBOL cap 1536 352 R0
SYMATTR InstName C7
SYMATTR Value 100n
SYMBOL inv 1952 64 R0
WINDOW 123 8 60 Left 2
SYMATTR InstName A4
SYMATTR Value2 Vhigh=5
SYMBOL pnp 2336 176 M180
SYMATTR InstName Q4
SYMATTR Value 2N2907
SYMBOL and 1472 224 R0
WINDOW 3 16 52 Left 2
SYMATTR Value Vhigh=5
SYMATTR InstName A5
SYMBOL and 1472 -288 R0
WINDOW 3 16 52 Left 2
SYMATTR Value Vhigh=5
SYMATTR InstName A6
SYMBOL and 1472 -464 R0
WINDOW 3 16 52 Left 2
SYMATTR Value Vhigh=5
SYMATTR InstName A7
SYMBOL inv 1952 -448 R0
SYMATTR InstName A8
SYMATTR Value2 Vhigh=5
SYMBOL inv 2112 -448 R0
WINDOW 123 8 60 Left 2
SYMATTR InstName A9
SYMATTR Value2 Vhigh=5
SYMBOL inv 2112 -272 R0
SYMATTR InstName A10
SYMATTR Value2 Vhigh=5 Rout=1u
SYMBOL inv 2112 64 R0
SYMATTR InstName A11
SYMATTR Value2 Vhigh=5
SYMBOL inv 2112 240 R0
WINDOW 3 -87 44 Left 2
SYMATTR InstName A12
SYMATTR Value Vhigh=5
SYMBOL res 2736 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value {Raudio}
SYMBOL res 2736 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {Raudio}
SYMBOL ind 2752 -96 R0
SYMATTR InstName L1
SYMATTR Value {Laud}
SYMBOL e 2976 -112 R0
SYMATTR InstName E2
SYMATTR Value 1
SYMBOL voltage 2384 -432 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL voltage 2384 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL res 2320 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 100
SYMBOL res 2304 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 100
SYMBOL res 2320 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 100
SYMBOL res 2304 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 100
SYMBOL npn 2336 256 R0
SYMATTR InstName Q3
SYMATTR Value 2N2222
SYMBOL cap 3632 -96 R0
SYMATTR InstName C8
SYMATTR Value 10n
SYMBOL res 3632 -256 R0
SYMATTR InstName R17
SYMATTR Value 1600
TEXT -720 512 Left 2 ;.tran 0.001
TEXT -112 528 Center 4 ;this generates PWm
TEXT 928 632 Left 2 !.params R=10k R1=125k R2=20k R3=100k C1=0.08n CBIAS=5 VBIAS=2.5 RBIAS=1k VDD=5 RPULL=2.2k VCTRL=2.499 R13=2k,R14=2k,R15=2k,R16=2k
TEXT 1976 544 Left 2 !.tran 0 20m 0 uic
TEXT 1952 496 Left 2 ;.params Vctrl=2.5
TEXT 1880 448 Left 2 !.params Raudio=16 Laud=507.4u
TEXT 3104 -56 Left 2 ;Audio Device
